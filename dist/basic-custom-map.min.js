!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("basicCustomMap",[],e):"object"==typeof exports?exports.basicCustomMap=e():t.basicCustomMap=e()}(window,function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{static getPointForCenteringOnWidth(t,e){return.5*e-.5*t}static getTextWidthBasedOnFontSize(t,e,i){i=i||10,t.font=i+"px serif";let s=t.measureText(e).width;return t.font="10px serif",s}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,i,s,n=10){this.text=t,this.ctx=e,this.position=i,this.dimensions=s,this.fontSize=n}draw(){return new Promise((t,e)=>{this.ctx.font=this.fontSize+"px serif",this.ctx.fillText(this.text,this.position.x,this.position.y),t()})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e,i,s){this.imageSource=t,this.ctx=e,this.position=i,this.dimensions=s}draw(){let t=new Image;return t.src=this.imageSource,new Promise((e,i)=>{t.onload=(()=>{this.ctx.drawImage(t,this.position.x,this.position.y,this.dimensions.width,this.dimensions.height),e()})})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(2),n=i(1),o=i(0);e.default=class{constructor(t,e,i,s,n){this.name=t,this.imageSource=e,this.ctx=i,this.position=s,this.dimensions=n}draw(){return new Promise((t,e)=>{let i=new s.default(this.imageSource,this.ctx,this.position,this.dimensions),r=.25*this.dimensions.height,h=o.default.getTextWidthBasedOnFontSize(this.ctx,this.name,r),d={x:this.position.x+o.default.getPointForCenteringOnWidth(h,this.dimensions.width),y:this.position.y+this.dimensions.height+r},u=new n.default(this.name,this.ctx,d,this.dimensions,r);i.draw().then(()=>{u.draw()}),t()})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(3),n=i(2),o=i(1),r=i(0);e.default=class{constructor(t,e,i,s,n,o){this.title=t,this.imageSource=e,this.pins=i,this.ctx=s,this.position=n,this.dimensions=o}draw(){return new Promise((t,e)=>{let i=new n.default(this.imageSource,this.ctx,this.position,this.dimensions),h=.075*this.dimensions.height,d=r.default.getTextWidthBasedOnFontSize(this.ctx,this.title,h),u={x:this.position.x+r.default.getPointForCenteringOnWidth(d,this.dimensions.width),y:this.position.y+.075*this.dimensions.height},c=new o.default(this.title,this.ctx,u,this.dimensions,h);i.draw().then(()=>{for(let t of this.pins){let e=.075*this.dimensions.width,i={width:e,height:e};new s.default(t.name,t.imageSource,this.ctx,t.position,i).draw()}c.draw()}),t()})}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(4);e.createMap=function(t,e){let i=document.getElementById(t),n=i.getContext("2d"),o={width:i.width,height:i.height};new s.default(e.title,e.imageSource,e.pins,n,{x:0,y:0},o).draw().then(()=>{console.log("finito!")})}}])});